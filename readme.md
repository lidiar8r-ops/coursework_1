# Проект 1. Приложение для анализа банковских операций
    
приложение для анализа транзакций, которые находятся в Excel-файле. Приложение будет генерировать JSON-данные 
для веб-страниц, формировать Excel-отчеты, а также предоставлять другие сервисы.


## Cтатус разработки: 

в разработке


## Установка:

1 Клонируйте репозиторий:
``` git clone git@github.com:lidiar8r-ops/homework.git  ```

2 Перейдите в папку проекта:
``` cd ваш_репозиторий```

3 Установите зависимости:
``` pip install -r requirements.txt```


## Зависимости
• Python 3.x

• Все библиотеки, которые использованы в проекте указаны в **requirements.txt**
 

## Тестирование
Код покрыт тестами Coverage report: 80%

HTML-отчёт, который показывает, какие строки кода были покрыты тестами, а какие нет в 
[(htmlcov/index.html)](https://github.com/lidiar8r-ops/homework/blob/courcework_1/htmlcov/index.html)

Для запуска тестов воспользуйтесь командой  ```poetry```


## Реализовано

* ###Страница «События»

Реализован набор функций и главная функция, которая принимает на вход строку с датой и второй необязательный параметр — 
диапазон данных. По умолчанию диапазон равен одному месяцу (с начала месяца, на который выпадает дата, по саму дату).

Возможные значения второго необязательного параметра:

    W — неделя, на которую приходится дата;
    M — месяц, на который приходится дата;
    Y — год, на который приходится дата;
    ALL — все данные до указанной даты.

Возвращаемый JSON-ответ содержит следующие данные:

«Расходы»:

Общая сумма расходов.
Раздел «Основные», в котором траты по категориям отсортированы по убыванию. Данные предоставляются по 7 категориям с наибольшими тратами, траты по остальным категориям суммируются и попадают в категорию «Остальное».
Раздел «Переводы и наличные», в котором сумма по категориям «Наличные» и «Переводы» отсортирована по убыванию.

«Поступления»:    

Общая сумма поступлений.
Раздел «Основные», в котором поступления по категориям отсортированы по убыванию.

«Курс валют».

«Стоимость акций из S&P 500».

    Цифры по тратам и поступлениям округлены до целых.
   
Пример JSON-строки с ответом
    
    {
      "expenses": {
        "total_amount": 32101,
        "main": [
          {
            "category": "Супермаркеты",
            "amount": 17319
          },
          {
            "category": "Фастфуд",
            "amount": 3324
      },
          {
            "category": "Топливо",
            "amount": 2289
          },
          {
            "category": "Развлечения",
            "amount": 1850
          },
          {
            "category": "Медицина",
            "amount": 1350
          },
          {
            "category": "Остальное",
            "amount": 2954
          }
        ],        
      "income": {
        "total_amount": 54271,
        "main": [
          {
            "category": "Пополнение_BANK007",
            "amount": 33000
          },
          {
            "category": "Проценты_на_остаток",
            "amount": 1242
          },
          {
            "category": "Кэшбэк",
            "amount": 29
          }
        ]
      },
      "currency_rates": [
        {
          "currency": "USD",
          "rate": 73.21
        },
        {
          "currency": "EUR",
          "rate": 87.08
        }
      ],
      "stock_prices": [
        {
          "stock": "AAPL",
          "price": 150.12
        },
        {
          "stock": "AMZN",
          "price": 3173.18
        },
        {
          "stock": "GOOGL",
          "price": 2742.39
        },
        {
          "stock": "MSFT",
          "price": 296.71
        },
        {
          "stock": "TSLA",
          "price": 1007.08
        }
      ]
    }


* ### «Сервисы»

**Выгодные категории повышенного кешбэка

    Сервис позволяет проанализировать, какие категории были наиболее выгодными для выбора в качестве категорий повышенного кешбэка.
    На вход функции поступают данные для анализа, год и месяц.
Входные параметры:

    data — данные с транзакциями;

    year — год, за который проводится анализ;

    month — месяц, за который проводится анализ.

На выходе — JSON с анализом, сколько на каждой категории можно заработать кешбэка в указанном месяце года.

Формат выходных данных:
    
    {
        "Категория 1": 1000,
        "Категория 2": 2000,
        "Категория 3": 500
    }


* ###«Отчеты»

**Траты по дням недели

Функция принимает на вход:

    датафрейм с транзакциями,
    опциональную дату.

Если дата не передана, то берется текущая дата.

Функция возвращает средние траты в каждый из дней недели за последние три месяца (от переданной даты).



## Цель разработки: 

применение знаний в написание кода на Python  

## Автор
[@lidiar8r-ops](https://github.com/lidiar8r-ops)
